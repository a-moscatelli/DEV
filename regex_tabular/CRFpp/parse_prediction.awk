BEGIN {
	FS="\t"; OFS="\t"; VERBOSE=0
}
{ PREDICTION=$5 }

PREDICTION=="PRODUCT_NAME" || PREDICTION=="PRODUCT_CODE" || PREDICTION=="MMLONG" || PREDICTION=="MMSHORT" { if (VERBOSE) print "#", "#", $0 }

PREDICTION=="PRODUCT_NAME" && length(PRODUCT_NAME)>0 {
	# FLUSH:
	print ++onr, "PRODUCT_NAME", sprintf("%-14s",PRODUCT_NAME), "PRODUCT_CODE", PRODUCT_CODE, "MMLONG",  sprintf("%14s",MMLONGVAL), "MMSHORT", sprintf("%14s",MMSHORTVAL)
	#flushpending=0
}

PREDICTION=="PRODUCT_NAME" {
	PRODUCT_NAME=$1
	PRODUCT_CODE=""
	MMLONGVAL=""
	MMSHORTVAL=""
	next
}
PREDICTION=="PRODUCT_CODE" {
	PRODUCT_CODE=$1
	MMLONGVAL=""
	MMSHORTVAL=""
	next
}
PREDICTION=="MMLONGVAL" {MMLONGVAL=$1; next}
PREDICTION=="MMSHORTVAL" {MMSHORTVAL=$1; next}
