is(co0,co). is(co1,co). is(co2,co). is(co3,co).
is(ho0,ho). is(ho1,ho). is(ho2,ho).
is(fh0,fbho). is(fh1,fbho). is(fh2,fbho). % fback ho
is(fbb,fbco). is(fbx,fbco). % fback co %%% we don't support white feedback: is(fbw,fbco).

next(ho1,ho0). next(ho2,ho1).
next(co1,co0). next(co2,co1). next(co3,co2).
next(fh1,fh0). next(fh2,fh1).

follows(H,L) :- next(H,M), follows(M,L).
follows(H,L) :- next(H,L).

prod(H,C) :- is(H,ho), is(C,co).

q(q0,ho0,co0). q(q0,ho1,co0). q(q0,ho2,co0).      a(q0,fh0,fbb). a(q0,fh1,fbx). a(q0,fh2,fbx).
q(q1,ho0,co1). q(q1,ho1,co1). q(q1,ho2,co2).      a(q1,fh0,fbb). a(q1,fh1,fbb). a(q1,fh2,fbx).

% I want: one scenario for each combo in gen 0,1,2 - 0,2,1 - 1,0,2 - 1,2,0 - 2,0,1 - 2,1,0
% I want: one scenario for each combo for q0 b,x,x - x,b,x - x,x,b
% I want: one scenario for each combo for q1 b,b,x - x,b,b - b,x,b
%a(q0, fh0, fbb)
%a(q0, fh1, fbx)
%a(q0, fh2, fbx)

permhoid(H0,H1) :- is(H0,fbho), is(H1,fbho), H0 != H1.
permhoid(H0,H1,H2) :- permhoid(H0,H1), permhoid(H0,H2), permhoid(H1,H2).

test2(Q,case,ID1,ID2,ID3,perm,FH,FB) :- permhoid(ID1,ID2,ID3), a(Q,FH,FB).
% test2(Q,DELIM1,ID1,ID2,ID3,DELIM2,FH,FB)?

